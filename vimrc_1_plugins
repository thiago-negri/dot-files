" Load plugins
call plug#begin()
Plug 'easymotion/vim-easymotion'                    " <c-j> / <c-k>
" Plug 'itchyny/lightline.vim'                        " statusline
Plug 'junegunn/fzf', { 'do': { -> fzf#install() } } " fzf
Plug 'junegunn/fzf.vim'                             " fzf commands
Plug 'machakann/vim-highlightedyank'                " highlight yanked text
Plug 'preservim/nerdtree'                           " file browser
Plug 'tpope/vim-commentary'                         " motions related to comments, e.g. gcc
Plug 'tpope/vim-fugitive'                           " git commands
Plug 'tpope/vim-sleuth'                             " figure shiftwidth/expandtab from context / .editorconfig
Plug 'tpope/vim-surround'                           " motions related to surrounding, e.g. cs'`
Plug 'yegappan/lsp'                                 " lsp
call plug#end()

" let g:lightline = { 'colorscheme': 'nord' }         " Nord colorscheme for statusline
let g:highlightedyank_highlight_duration = 100      " Highlight yanked text for 100ms
let NERDTreeQuitOnOpen=1                            " Close NERDTree after selecting a file

" Fuzzy finder -- fzf
nnoremap <leader>sf :Files<cr>
nnoremap <leader><leader> :Buffers<cr>
nnoremap <leader>sg :Rg<cr>
nnoremap <leader>sw :Rg <c-r><c-w><cr>

" File browser -- NERDTree
nnoremap - :NERDTreeFocus<cr>

" Duplicate and comment (gcc comes from vim-commentary)
nnoremap yc yy<cmd>normal gcc<cr>p

" Jump to line -- Easy Motion
nnoremap <c-j> <plug>(easymotion-j)
nnoremap <c-k> <plug>(easymotion-k)

" LSP
" LSP Servers are configured on vimrc_win / vimrc_mac / vimrc_linux
let lspOpts = #{autoHighlightDiags: v:true}
autocmd User LspSetup call LspOptionsSet(lspOpts)
nnoremap <silent> [d :LspDiag prev<cr>
nnoremap <silent> ]d :LspDiag next<cr>
nnoremap <silent> <leader>q :LspDiag show<cr>
nnoremap <silent> grD :LspGotoDeclaration<cr>zt
nnoremap <silent> grd :LspGotoDefinition<cr>zt
nnoremap <silent> gri :LspGotoImpl<cr>zt
nnoremap <silent> grt :LspGotoTypeDef<cr>zt
nnoremap <silent> grr :LspShowReferences<cr>
nnoremap <silent> grn :LspRename<cr>
nnoremap <silent> gra :LspCodeAction<cr>
nnoremap <silent> K :LspHover<cr>
xnoremap <leader>f :LspFormat<cr>
nnoremap <leader>f :LspFormat<cr>

